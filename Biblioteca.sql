create database biblioteca;
use biblioteca;

CREATE TABLE autores (
    id INT PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(100) NOT NULL,
    nacionalidade VARCHAR(50),
    data_nascimento DATE
    );
    
    CREATE TABLE Livros (
    id INT PRIMARY KEY AUTO_INCREMENT,
    titulo VARCHAR(255) NOT NULL,
    autor_id INT NOT NULL,
    ano_publicacao YEAR,
    genero VARCHAR(100),
    descricao TEXT,
    disponibilidade BOOLEAN DEFAULT TRUE,
    FOREIGN KEY (autor_id) REFERENCES Autores(id)
);

CREATE TABLE Usuarios (
    id INT PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    telefone VARCHAR(20),
    data_cadastro DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE Emprestimos (
    id INT PRIMARY KEY AUTO_INCREMENT,
    id_usuario INT NOT NULL,
    id_livro INT NOT NULL,
    data_emprestimo DATE NOT NULL,
    data_devolucao_prevista DATE NOT NULL,
    data_devolucao_real DATE,
    status ENUM('ativo', 'atrasado', 'finalizado') NOT NULL DEFAULT 'ativo',
    FOREIGN KEY (id_usuario) REFERENCES Usuarios(id),
    FOREIGN KEY (id_livro) REFERENCES Livros(id)
);

CREATE TABLE Reservas (
    id INT PRIMARY KEY AUTO_INCREMENT,
    id_usuario INT NOT NULL,
    id_livro INT NOT NULL,
    data_reserva DATE NOT NULL,
    status_reserva ENUM('ativa', 'cancelada', 'concluida') NOT NULL DEFAULT 'ativa',
    FOREIGN KEY (id_usuario) REFERENCES Usuarios(id),
    FOREIGN KEY (id_livro) REFERENCES Livros(id)
);


INSERT INTO autores (nome, nacionalidade, data_nascimento) VALUES
('Bram Stoker', 'Irlandesa', '1847-11-08'),
('Mary Shelley', 'Britânica', '1797-08-30'),
('Stephen King', 'Americana', '1947-09-21'),
('Edgar Allan Poe', 'Americana', '1809-01-19'),
('Bianca Vieira', 'Portuguesa', '1936-02-02'),
('Heloísa Silva', 'Italiana', '1952-05-17'),
('Isis da Cunha', 'Italiana', '1948-07-14'),
('Eduarda Costa', 'Canadense', '1991-12-06'),
('Srta. Maria Alice Moraes', 'Espanhola', '1955-10-29'),
('Joana Aragão', 'Alemã', '1948-01-25'),
('Sophie Fogaça', 'Espanhola', '1987-10-26'),
('Gabriela Lima', 'Italiana', '1976-02-13'),
('Beatriz Rodrigues', 'Portuguesa', '1949-05-18'),
('Luana Souza', 'Alemã', '1939-05-24'),
('Rodrigo Pires', 'Brasileira', '1956-03-18'),
('Luiz Henrique Campos', 'Canadense', '1959-05-28'),
('Agatha da Conceição', 'Brasileira', '1967-04-11'),
('Augusto Aragão', 'Brasileira', '1948-05-22'),
('Ian da Paz', 'Italiana', '1980-05-05'),
('João Lucas Nascimento', 'Canadense', '1983-11-25'),
('Juliana Barros', 'Francesa', '1953-08-17'),
('Daniel Farias', 'Alemã', '1950-03-03'),
('Camila Duarte', 'Espanhola', '1971-06-20'),
('Vinícius Rocha', 'Brasileira', '1934-09-09'),
('Mariana Ribeiro', 'Portuguesa', '1960-01-01'),
('Felipe Cardoso', 'Canadense', '1946-10-10'),
('Luciana Freitas', 'Francesa', '1952-02-22'),
('Ricardo Albuquerque', 'Alemã', '1982-08-08'),
('Patrícia Mendes', 'Espanhola', '1947-04-04'),
('Gabriel Soares', 'Brasileira', '1931-12-12'),
('Natália Almeida', 'Portuguesa', '1977-07-07'),
('Marcelo Cunha', 'Italiana', '1958-06-06'),
('Fernanda Moreira', 'Canadense', '1989-09-09'),
('André Lima', 'Francesa', '1975-03-30'),
('Tatiane Batista', 'Alemã', '1944-05-15'),
('Henrique Martins', 'Espanhola', '1937-01-27'),
('Vanessa Costa', 'Brasileira', '1962-10-30'),
('Leonardo Dias', 'Portuguesa', '1957-12-03'),
('Priscila Teixeira', 'Italiana', '1970-11-19'),
('Caio Monteiro', 'Canadense', '1943-07-23');


INSERT INTO livros (titulo, autor_id, ano_publicacao, genero, descricao, disponibilidade) VALUES
('Drácula', 1, 1897, 'Terror', 'Um clássico do terror gótico com vampiros.', TRUE),
('Frankenstein', 2, 1818, 'Terror', 'Criatura ganha vida e desafia seu criador.', TRUE),
('It: A Coisa', 3, 1986, 'Terror', 'Entidade maligna assombra cidade por gerações.', FALSE),
('O Iluminado', 3, 1977, 'Suspense', 'Homem enlouquece em hotel isolado.', TRUE),
('Carrie, a Estranha', 3, 1974, 'Terror', 'Garota com poderes em conflito com o mundo.', TRUE),
('Misery', 3, 1987, 'Suspense', 'Escritor é mantido refém por fã obsessiva.', TRUE),
('Cemitério Maldito', 3, 1983, 'Terror', 'Cemitério revive os mortos, com consequências.', FALSE),
('O Corvo', 4, 1845, 'Poesia Sombria', 'Poema sombrio sobre perda e desespero.', TRUE),
('A Queda da Casa de Usher', 4, 1839, 'Suspense', 'Mistérios rondam antiga mansão familiar.', TRUE),
('O Gato Preto', 4, 1843, 'Terror Psicológico', 'Homem mergulha na loucura após matar gato.', FALSE),
('O Jardim de Sombras', 5, 1921, 'Ficção', 'Narrativa onírica sobre tempo e memória.', TRUE),
('As Crônicas de Vento', 6, 2001, 'Fantasia', 'Um mundo onde o vento fala com os heróis.', TRUE),
('No Coração da Floresta', 7, 1956, 'Aventura', 'Expedição misteriosa pela mata ancestral.', TRUE),
('A Última Estrela', 8, 1999, 'Ficção Científica', 'Viagem para salvar o último sol da galáxia.', TRUE),
('Sombras do Amanhã', 9, 1982, 'Mistério', 'Detetive investiga futuro sombrio de uma cidade.', FALSE),
('Diário de um Andarilho', 10, 1977, 'Drama', 'Reflexões de um viajante solitário.', TRUE),
('O Código do Tempo', 11, 2005, 'Ficção', 'Teoria secreta altera a história da humanidade.', FALSE),
('A Filha da Chuva', 12, 1971, 'Fantasia', 'Garota controla o clima e muda o destino.', TRUE),
('Entre Portais', 13, 1969, 'Fantasia', 'Portais mágicos surgem ao redor do mundo.', TRUE),
('Caminhos do Infinito', 14, 1937, 'Aventura', 'Viagem épica até os confins da Terra.', TRUE),
('Vozes do Silêncio', 15, 1944, 'Drama', 'Mulher enfrenta regime opressor com poesia.', TRUE),
('O Arquivo Perdido', 16, 2003, 'Suspense', 'Documentos secretos desaparecem em missão.', TRUE),
('Fogo e Cinzas', 17, 2010, 'Drama', 'Família luta para reconstruir vida após incêndio.', TRUE),
('Asas Negras', 18, 1988, 'Fantasia', 'Anjo caído busca redenção em mundo corrompido.', FALSE),
('Tramas Ocultas', 19, 1973, 'Mistério', 'Intrigas políticas e assassinatos conectados.', TRUE),
('O Labirinto do Tempo', 20, 1995, 'Ficção Científica', 'Homem preso entre linhas temporais paralelas.', FALSE),
('Tempestade de Vidro', 21, 1980, 'Ficção', 'Cidade é envolta em campo de energia alienígena.', TRUE),
('Rituais da Meia-Noite', 22, 2006, 'Terror', 'Grupo acorda demônio ao invocar ritual errado.', FALSE),
('Olhos de Areia', 23, 1965, 'Drama', 'Garoto cego vê o mundo de forma extraordinária.', TRUE),
('O Contador de Histórias', 24, 1942, 'Biografia', 'Velho sábio relata memórias de um século.', TRUE),
('Maré Vermelha', 25, 1976, 'Suspense', 'Navio fantasma assombra litoral esquecido.', TRUE),
('Fragmentos de Luz', 26, 2017, 'Ficção', 'Pesquisador encontra fonte mística de energia.', TRUE),
('Cidade das Vozes', 27, 1991, 'Mistério', 'Toda noite, a cidade sussurra segredos ao vento.', TRUE),
('Corações Partidos', 28, 1985, 'Drama', 'Três histórias de amor e perda se entrelaçam.', FALSE),
('Sangue Real', 29, 1930, 'Terror', 'Descendência amaldiçoada em castelo isolado.', TRUE),
('Neve e Cinzas', 30, 1990, 'Fantasia', 'Rainha banida tenta retomar o trono gelado.', TRUE),
('Correntes Invisíveis', 31, 1962, 'Ficção', 'Sociedade controlada por algoritmos secretos.', FALSE),
('Luz Entre os Espelhos', 32, 2008, 'Suspense', 'Crime brutal expõe conspiração em cidade pequena.', TRUE),
('Raízes do Abismo', 33, 1979, 'Terror', 'Árvore milenar consome almas dos que se aproximam.', TRUE),
('Vento Seco', 34, 1958, 'Drama', 'Seca muda o destino de uma vila nordestina.', TRUE),
('A Melodia do Caos', 35, 2019, 'Fantasia', 'Música proibida desperta monstros ancestrais.', TRUE),
('O Eco da Caverna', 36, 1981, 'Mistério', 'Exploradores descobrem um segredo enterrado no tempo.', TRUE),
('As Chamas de Avalon', 37, 2002, 'Fantasia', 'Magia e guerra se entrelaçam nas terras de Avalon.', FALSE),
('Entre Céus e Abismos', 38, 1974, 'Ficção Científica', 'Piloto perdido enfrenta dilemas existenciais no espaço.', TRUE),
('A Canção da Serpente', 39, 1963, 'Terror', 'Melodia maldita amaldiçoa todos que a ouvem.', TRUE),
('O Guardião das Estações', 40, 2015, 'Fantasia', 'Cada estação do ano esconde um segredo ancestral.', TRUE);


INSERT INTO usuarios (nome, email, telefone) VALUES
('Lucas Mendes', 'lucasmendes@email.com', '(61)91234-5678'),
('Francisco', 'francisco@email.com', '(61)92345-6789'),
('Luzinete', 'luzinete@email.com', '(61)93456-7890'),
('Raul', 'raul@email.com', '(61)94567-8901'),
('Maria Cecília', 'mariacecilia@email.com', '(61)95678-9012'),
('Ana Clara', 'anaclara@email.com', '(61)90000-1111'),
('Pedro Henrique', 'pedrohenrique@email.com', '(61)90000-2222'),
('Juliana Souza', 'julianasouza@email.com', '(61)90000-3333'),
('Carlos Eduardo', 'carloseduardo@email.com', '(61)90000-4444'),
('Fernanda Lima', 'fernandalima@email.com', '(61)90000-5555'),
('João Miguel', 'joaomiguel@email.com', '(61)90000-6666'),
('Beatriz Gomes', 'beatrizgomes@email.com', '(61)90000-7777'),
('Felipe Santos', 'felipesantos@email.com', '(61)90000-8888'),
('Camila Rocha', 'camilarocha@email.com', '(61)90000-9999'),
('Gustavo Martins', 'gustavomartins@email.com', '(61)91111-0000'),
('Isabela Ramos', 'isabelaramos@email.com', '(61)91111-1111'),
('Matheus Silva', 'matheussilva@email.com', '(61)91111-2222'),
('Larissa Andrade', 'larissaandrade@email.com', '(61)91111-3333'),
('Tiago Moreira', 'tiagomoreira@email.com', '(61)91111-4444'),
('Bruna Costa', 'brunacosta@email.com', '(61)91111-5555'),
('André Luiz', 'andreluiz@email.com', '(61)91111-6666'),
('Patrícia Melo', 'patriciamelo@email.com', '(61)91111-7777'),
('Vinícius Dias', 'viniciusdias@email.com', '(61)91111-8888'),
('Tatiane Farias', 'tatianefarias@email.com', '(61)91111-9999'),
('Renato Freitas', 'renatofreitas@email.com', '(61)92222-0000'),
('Érica Barbosa', 'ericabarbosa@email.com', '(61)92222-1111'),
('Leandro Paz', 'leandropaz@email.com', '(61)92222-2222'),
('Rafaela Monteiro', 'rafaelamonteiro@email.com', '(61)92222-3333'),
('Sérgio Oliveira', 'sergioliveira@email.com', '(61)92222-4444'),
('Juliane Brito', 'julianebrito@email.com', '(61)92222-5555'),
('Diogo Cunha', 'diogocunha@email.com', '(61)92222-6666'),
('Milena Nogueira', 'milenanogueira@email.com', '(61)92222-7777'),
('Ricardo Teixeira', 'ricardoteixeira@email.com', '(61)92222-8888'),
('Amanda Ferreira', 'amandaferreira@email.com', '(61)92222-9999'),
('Eduarda Martins', 'eduardamartins@email.com', '(61)93333-0000'),
('Jonathan Reis', 'jonathanreis@email.com', '(61)93333-1111'),
('Débora Viana', 'deboraviana@email.com', '(61)93333-2222'),
('Roberto Silva', 'robertosilva@email.com', '(61)93333-3333'),
('Paula Almeida', 'paulaalmeida@email.com', '(61)93333-4444');


INSERT INTO emprestimos (id_usuario, id_livro, data_emprestimo, data_devolucao_prevista, data_devolucao_real, status) VALUES
(1, 5, '2025-05-01', '2025-05-15', '2025-05-10', 'finalizado'),
(2, 8, '2025-05-02', '2025-05-16', NULL, 'atrasado'),
(3, 1, '2025-05-03', '2025-05-17', '2025-05-12', 'finalizado'),
(4, 2, '2025-05-04', '2025-05-18', NULL, 'ativo'),
(5, 4, '2025-05-05', '2025-05-19', '2025-05-17', 'finalizado'),
(6, 6, '2025-05-06', '2025-05-20', NULL, 'ativo'),
(7, 3, '2025-05-07', '2025-05-21', '2025-05-18', 'finalizado'),
(8, 7, '2025-05-08', '2025-05-22', NULL, 'atrasado'),
(9, 9, '2025-05-09', '2025-05-23', NULL, 'ativo'),
(10, 10, '2025-05-10', '2025-05-24', '2025-05-22', 'finalizado'),
(11, 11, '2025-05-11', '2025-05-25', NULL, 'atrasado'),
(12, 12, '2025-05-12', '2025-05-26', '2025-05-23', 'finalizado'),
(13, 13, '2025-05-13', '2025-05-27', NULL, 'ativo'),
(14, 14, '2025-05-14', '2025-05-28', '2025-05-24', 'finalizado'),
(15, 15, '2025-05-15', '2025-05-29', NULL, 'atrasado'),
(16, 16, '2025-05-16', '2025-05-30', '2025-05-28', 'finalizado'),
(17, 17, '2025-05-17', '2025-05-31', NULL, 'ativo'),
(18, 18, '2025-05-18', '2025-06-01', NULL, 'atrasado'),
(19, 19, '2025-05-19', '2025-06-02', '2025-05-30', 'finalizado'),
(20, 20, '2025-05-20', '2025-06-03', NULL, 'ativo'),
(21, 21, '2025-05-01', '2025-05-15', NULL, 'ativo'),
(22, 22, '2025-05-02', '2025-05-16', '2025-05-12', 'finalizado'),
(23, 23, '2025-05-03', '2025-05-17', NULL, 'atrasado'),
(24, 24, '2025-05-04', '2025-05-18', '2025-05-15', 'finalizado'),
(25, 25, '2025-05-05', '2025-05-19', NULL, 'ativo'),
(26, 26, '2025-05-06', '2025-05-20', '2025-05-17', 'finalizado'),
(27, 27, '2025-05-07', '2025-05-21', NULL, 'atrasado'),
(28, 28, '2025-05-08', '2025-05-22', NULL, 'ativo'),
(29, 29, '2025-05-09', '2025-05-23', '2025-05-19', 'finalizado'),
(30, 30, '2025-05-10', '2025-05-24', NULL, 'ativo'),
(31, 31, '2025-05-11', '2025-05-25', '2025-05-22', 'finalizado'),
(32, 32, '2025-05-12', '2025-05-26', NULL, 'atrasado'),
(33, 33, '2025-05-13', '2025-05-27', NULL, 'ativo'),
(34, 34, '2025-05-14', '2025-05-28', '2025-05-26', 'finalizado'),
(35, 35, '2025-05-15', '2025-05-29', NULL, 'ativo'),
(36, 36, '2025-05-16', '2025-05-30', NULL, 'atrasado'),
(37, 37, '2025-05-17', '2025-05-31', '2025-05-27', 'finalizado'),
(38, 38, '2025-05-18', '2025-06-01', NULL, 'ativo'),
(39, 39, '2025-05-19', '2025-06-02', NULL, 'atrasado'),
(40, 40, '2025-05-20', '2025-06-03', '2025-05-30', 'finalizado');
